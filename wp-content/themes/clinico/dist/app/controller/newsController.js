App.controller("NewsController",["$scope","news",function($scope,news){var loadContents=function(){news.getNews().then(function(result){var response=result,newsList=response.posts,index=0;_.each(newsList,function(news){var date=new Date(news.date.replace(" ","T")),day=date.getDate()>=10?date.getDate():"0"+date.getDate(),month=date.getMonth()>=10?date.getMonth():"0"+date.getMonth(),year=date.getFullYear();if(news.date=day+"/"+month+"/"+year,index%10===0){var page={newsList:[]};$scope.newsPages.push(page)}$scope.newsPages[$scope.newsPages.length-1].newsList.push(news),index++})})};loadContents(),$scope.newsPages=[],$scope.newsSelectedPage=0,console.log("Loaded news controller")}]);